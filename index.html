<!DOCTYPE html>
<html lang="es-UY">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stefano Vettorazzi</title>
    
    <!-- Link to our stylesheet -->
    <link rel="stylesheet" href="styles.css">
    
    <!-- Link to FontAwesome for Icons (Spotify, Apple, YouTube, etc.) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <!-- Link to Google Fonts for modern typography -->
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700;900&display=swap" rel="stylesheet">
</head>
<body>
    <main id="app-content">
        <!-- Content will be injected here by Javascript -->
    </main>

    <script id="site-data" type="application/json">
{
    "artist": {
        "name": "STEFANO VETTORAZZI",
        "socials": {
            "instagram": "https://instagram.com/stefano_vettorazzi",
            "tiktok": "https://tiktok.com/@stefanovettorazzi",
            "x-twitter": "https://x.com/stefanovetorazi",
            "youtube": "https://youtube.com/@stefanovettorazzi"
        }
    },
    "releases": [
        {
            "title": "La vida no me va a alcanzar",
            "artwork": "images/la_vida_no_me_va_a_alcanzar.webp",
            "links": {
                "spotify": "https://open.spotify.com/track/7IOFqT02aOcH1XVoIu5oWS?si=e2a6d6771ae74f2a",
                "apple": "https://music.apple.com/song/la-vida-no-me-va-a-alcanzar/1879342374",
                "youtube": "https://www.youtube.com/watch?v=YOw_p-8D4sw"
            }
        },
        {
            "title": "Con los recuerdos",
            "artwork": "images/con_los_recuerdos.webp",
            "links": {
                "spotify": "https://open.spotify.com/track/1E16d6N4Mk0uvaZ6TQffZG?si=de392e51716447ab",
                "apple": "https://music.apple.com/uy/song/con-los-recuerdos/1855111813",
                "youtube": "https://www.youtube.com/watch?v=vSSRv-VuVnk"
            }
        },
        {
            "title": "Gigantes",
            "artwork": "images/gigantes.webp",
            "links": {
                "spotify": "https://open.spotify.com/track/34cqexsshuMxWfM1WKJUwC?si=693d2d02b1204c5d",
                "apple": "https://music.apple.com/uy/song/gigantes/1669284732",
                "youtube": "https://www.youtube.com/watch?v=Ck_YNxELq5c"
            }
        },
        {
            "title": "Calma",
            "artwork": "images/calma.webp",
            "links": {
                "spotify": "https://open.spotify.com/track/7uCiLALSJQCxj0118xSqhB?si=5a549f008f554b49",
                "apple": "https://music.apple.com/uy/song/calma/1649616048",
                "youtube": "https://www.youtube.com/watch?v=JCStCm9coQY"
            }
        },
        {
            "title": "Para siempre",
            "artwork": "images/para_siempre.webp",
            "links": {
                "spotify": "https://open.spotify.com/track/69Gijz4CgzF5BRz1K1jET8?si=93b277a82cd2466d",
                "apple": "https://music.apple.com/uy/song/para-siempre/1553570337",
                "youtube": "https://www.youtube.com/watch?v=oBT3aGXoqT8"
            }
        },
        {
            "title": "A veces",
            "artwork": "images/a_veces.webp",
            "links": {
                "spotify": "https://open.spotify.com/track/1NBm1371Yi6hRgSpZXH3Z3?si=0420fe56da804048",
                "apple": "https://music.apple.com/uy/song/a-veces/1532864238",
                "youtube": "https://www.youtube.com/watch?v=hbInDMZcSZk"
            }
        },
        {
            "title": "Antihéroe",
            "artwork": "images/antiheroe.webp",
            "links": {
                "spotify": "https://open.spotify.com/track/7GLPmJ0opQe2cb074pWfBr?si=abcbce1df2fc4d60",
                "apple": "https://music.apple.com/uy/song/antih%C3%A9roe/1519704524",
                "youtube": "https://www.youtube.com/watch?v=eZHWk5ddd7c"
            }
        },
        {
            "title": "De 12 a 0",
            "artwork": "images/de_12_a_0.webp",
            "links": {
                "spotify": "https://open.spotify.com/track/7wlm0HKYUVD9u7i1bWWXWx?si=5eca6b84f7fb4e85",
                "apple": "https://music.apple.com/uy/song/de-12-a-0/1494117302",
                "youtube": "https://www.youtube.com/watch?v=nEdbEMwTvoc"
            }
        },
        {
            "title": "Cómo dolió",
            "artwork": "images/como_dolio.webp",
            "links": {
                "spotify": "https://open.spotify.com/track/5s5kZG1Xd4ZZS0C0BtwRj7?si=1274ebde96ab4d42",
                "apple": "https://music.apple.com/uy/song/c%C3%B3mo-doli%C3%B3/1461685657",
                "youtube": "https://www.youtube.com/watch?v=5x9Ofb0t8iI"
            }
        },
        {
            "title": "Estar contigo",
            "artwork": "images/estar_contigo.webp",
            "links": {
                "spotify": "https://open.spotify.com/track/3D0xYkfb8CfXmqxS6f3VQu?si=c6aa5c058d274c42",
                "apple": "https://music.apple.com/uy/song/estar-contigo/1306814704",
                "youtube": "https://www.youtube.com/watch?v=hrBRVTwJSuU"
            }
        },
        {
            "title": "Un punto azul",
            "artwork": "images/un_punto_azul.webp",
            "links": {
                "spotify": "https://open.spotify.com/track/2rAnuY758z53Xmp0gxdSGR?si=4cb3e8d610464988",
                "apple": "https://music.apple.com/uy/song/un-punto-azul/1268043108",
                "youtube": "https://www.youtube.com/watch?v=yJJ4uf_5DBw"
            }
        },
        {
            "title": "Una parte de mí",
            "artwork": "images/una_parte_de_mi.webp",
            "links": {
                "spotify": "https://open.spotify.com/track/4vtJlfTHYE6kQ5XRGzL94A?si=9ee2f7bd622a4a2c",
                "apple": "https://music.apple.com/uy/song/una-parte-de-m%C3%AD/1267670973",
                "youtube": "https://www.youtube.com/watch?v=OnXXL7NZ_uI"
            }
        }
    ]
}
    </script>

    <script>
        // Set up the platform details so you only have to provide the URLs in the JSON above
        const platformConfig = {
            spotify: { text: "Escuchar en Spotify", icon: "fa-spotify", className: "btn spotify" },
            apple: { text: "Escuchar en Apple Music", icon: "fa-apple", className: "btn apple" },
            youtube: { text: "Ver en YouTube", icon: "fa-youtube", className: "btn youtube" }
        };

        const socialConfig = {
            instagram: { title: "Instagram", icon: "fa-instagram" },
            tiktok: { title: "TikTok", icon: "fa-tiktok" },
            "x-twitter": { title: "X (Twitter)", icon: "fa-x-twitter" },
            youtube: { title: "YouTube", icon: "fa-youtube" }
        };

        // Read data directly from the embedded script tag
        try {
            const dataElement = document.getElementById('site-data');
            const data = JSON.parse(dataElement.textContent);
            
            const app = document.getElementById('app-content');
            let html = '';

            // 1. Build Latest Release (assuming the first item in the releases array is the latest)
                if (data.releases && data.releases.length > 0) {
                    const latest = data.releases[0];
                    let latestLinksHtml = '';
                    
                    if (latest.links) {
                        for (const [platform, url] of Object.entries(latest.links)) {
                            if (platformConfig[platform]) {
                                const p = platformConfig[platform];
                                latestLinksHtml += `<a href="${url}" target="_blank" class="${p.className}"><i class="fa-brands ${p.icon}"></i> ${p.text}</a>`;
                            }
                        }
                    }

                    html += `
                        <section class="latest-release">
                            <div class="release-container">
                                <div class="artwork">
                                    <img src="${latest.artwork}" alt="${latest.title}">
                                </div>
                                <div class="release-info">
                                    <h2>${latest.title}</h2>
                                    <p class="release-date">Última canción</p>
                                    <div class="listen-links">
                                        ${latestLinksHtml}
                                    </div>
                                </div>
                            </div>
                        </section>
                    `;
                }

                // 2. Build Artist Header
                let socialsHtml = '';
                if (data.artist.socials) {
                    for (const [platform, url] of Object.entries(data.artist.socials)) {
                        if (socialConfig[platform]) {
                            const s = socialConfig[platform];
                            socialsHtml += `<a href="${url}" target="_blank" title="${s.title}"><i class="fa-brands ${s.icon}"></i></a>`;
                        }
                    }
                }

                html += `
                    <header class="artist-header">
                        <h1>${data.artist.name}</h1>
                        <div class="social-links">
                            ${socialsHtml}
                        </div>
                    </header>
                `;

                // 3. Build Previous Releases Grid
                if (data.releases && data.releases.length > 1) {
                    let previousReleasesHtml = '';
                    for (let i = 1; i < data.releases.length; i++) {
                        const rel = data.releases[i];
                        let relLinksHtml = '';
                        
                        if (rel.links) {
                            for (const [platform, url] of Object.entries(rel.links)) {
                                if (platformConfig[platform]) {
                                    const p = platformConfig[platform];
                                    relLinksHtml += `<a href="${url}" target="_blank" class="icon-link"><i class="fa-brands ${p.icon}"></i></a>`;
                                }
                            }
                        }

                        previousReleasesHtml += `
                            <div class="release-card">
                                <img src="${rel.artwork}" alt="${rel.title}">
                                <h3>${rel.title}</h3>
                                <div class="listen-links-small">
                                    ${relLinksHtml}
                                </div>
                            </div>
                        `;
                    }

                    html += `
                        <section class="previous-releases">
                            <div class="releases-grid">
                                ${previousReleasesHtml}
                            </div>
                        </section>
                    `;
            }

            // Inject the generated HTML into the main container
            app.innerHTML = html;
        } catch (error) {
            console.error('Error loading the site data:', error);
            document.getElementById('app-content').innerHTML = '<p style="text-align:center; padding: 2rem;">Error al cargar el contenido. Por favor, inténtalo de nuevo.</p>';
        }
    </script>
</body>
</html>
